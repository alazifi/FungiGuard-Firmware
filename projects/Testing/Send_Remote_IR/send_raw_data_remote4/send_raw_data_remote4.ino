#include <Arduino.h>

#include <IRremote.hpp>

void setup() {

    Serial.begin(115200);
    IrSender.begin(18); // Start with IR_SEND_PIN as send pin and enable feedback LED at default feedback LED pin
}

void loop() {

    Serial.println(F("Send NEC 16 bit address=0xFB04 and command 0x08 with exact timing (16 bit array format)"));
    Serial.flush();

    const uint16_t rawData[] = { 8400, 4300, 550, 550, 500, 1650, 500, 1650, 500, 550, 550, 1600, 500, 600, 500, 1600, 550, 550, 500, 600, 500, 550, 500, 1650, 500, 600, 500, 1650, 500, 1600, 550, 1650, 500, 550, 550, 550, 500, 550, 550, 550, 500, 600, 500, 550, 500, 600, 450, 600, 500, 600, 500, 550, 500, 600, 500, 550, 500, 600, 500, 550, 550, 550, 500, 550, 550, 550, 500, 1600, 550, 550, 550, 550, 500, 550, 550, 1600, 550, 550, 500, 1600, 550, 550, 550, 550, 500, 550, 550, 550, 500, 550, 550, 550, 500, 550, 550, 550, 500, 550, 550, 550, 500, 550, 550, 550, 500, 550, 550, 550, 550, 500, 550, 550, 500, 550, 550, 550, 500, 550, 550, 550, 500, 550, 550, 550, 550, 500, 550, 550, 550, 500, 550, 550, 550, 550, 500, 550, 550, 500, 550, 550, 500, 550, 550, 550, 500, 550, 550, 550, 500, 550, 550, 550, 500, 550, 550, 550, 500, 550, 550, 550, 500, 550, 550, 550, 500, 550, 550, 550, 500, 550, 550, 550, 500, 550, 500, 600, 500, 550, 500, 600, 500, 550, 500, 600, 500, 550, 500, 600, 500, 550, 500, 600, 500, 550, 500, 600, 500, 550, 500, 600, 500, 550, 500, 600, 500, 550, 500, 600, 500, 550, 500, 600, 500, 550, 500, 600, 500, 600, 450, 600, 500, 600, 450, 600, 500, 600, 450, 600, 500, 600, 450, 1700, 450, 1700, 450, 1700, 500, 550, 500, 600, 500, 600, 450 };
    IrSender.sendRaw(rawData, sizeof(rawData) / sizeof(rawData[0]), NEC_KHZ); // Note the approach used to automatically calculate the size of the array.

    delay(1000); // delay must be greater than 5 ms (RECORD_GAP_MICROS), otherwise the receiver sees it as one long signal
}
